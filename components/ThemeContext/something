import { BaseLayout, ContentLayout, Footer, Navbar } from '@components';
import useCheckMobileScreen from '@hooks/useCheckMobileScreen';
import { useScrollPosition } from '@hooks/useScrollPosition';
import Head from 'next/head';
import { useState } from 'react';
import { BiLinkExternal } from 'react-icons/bi';
import { FcSearch } from 'react-icons/fc';
import { RiArrowUpSLine } from 'react-icons/ri';

export default function Home() {
  const isMobile = useCheckMobileScreen();
  const [showSearchRecommendation, setShowSearchRecommendation] =
    useState(true);
  useScrollPosition(({ prevPos, currPos }) => {
    console.log(currPos.x);
    console.log(currPos.y);
    if (currPos.y < -200) {
      setShowSearchRecommendation(false);
    } else {
      setShowSearchRecommendation(true);
    }
  });
  const renderSeasonalInternship = () => {
    const companies = [
      {
        link: '/jobs/a',
        img: 'https://res.cloudinary.com/yosuam19/image/upload/v1624539590/kerja/toped_1_iemnmd.png',
      },
      {
        link: '/jobs/a',
        img: 'https://res.cloudinary.com/yosuam19/image/upload/v1624539589/kerja/bain_co_dreol0.png',
      },
      {
        link: '/jobs/a',
        img: 'https://res.cloudinary.com/yosuam19/image/upload/v1624539589/kerja/ovo_bvzciz.png',
      },
      {
        link: '/jobs/a',
        img: 'https://res.cloudinary.com/yosuam19/image/upload/v1624539589/kerja/hangry_tmiele.png',
      },
      {
        link: '/jobs/a',
        img: 'https://res.cloudinary.com/yosuam19/image/upload/v1624539589/kerja/cotter_uixwuw.png',
      },
      {
        link: '/jobs/a',
        img: 'https://res.cloudinary.com/yosuam19/image/upload/v1624539589/kerja/ovo_bvzciz.png',
      },
      {
        link: '/jobs/a',
        img: 'https://res.cloudinary.com/yosuam19/image/upload/v1624539589/kerja/hangry_tmiele.png',
      },
      {
        link: '/jobs/a',
        img: 'https://res.cloudinary.com/yosuam19/image/upload/v1624539589/kerja/cotter_uixwuw.png',
      },
    ];
    return (
      <ContentLayout className=" font-display ">
        <div className="rounded-3xl gradient-dark-flame text-md py-4 font-display w-full flex flex-col  align-center  bg-red  text-white">
          <div className={'bold   px-4 text-md'}>
            Part time, remote interships for
          </div>
          <div className={'bold pb-4 px-4 text-sm'}>Fall ‚Äò21 (Sep-Dec) üçÅ</div>

          <div
            className={
              'flex justify-center max-w-screen overflow-x-scroll py-8'
            }
          >
            {companies.map((data, idx) => {
              return (
                <img
                  key={`${idx}`}
                  onClick={(_) => window.open(data?.link)}
                  src={data?.img}
                  className="z-10 w-full h-full object-contain shadow-xl rounded-2xl  cursor-pointer hover:scale-110 transform duration-100 rounded-2xl w-24 h-24 mx-4"
                />
              );
            })}
          </div>
          <div className={'p-4 text-sm'}>
            <div>Find listings you‚Äôll never find anywhere else.</div>
            <div>Start interning in your first semester.</div>
          </div>
        </div>
      </ContentLayout>
    );
  };
  const renderSearchRecommendation = () => {
    const searchRecommendations = [
      'Finance',
      'Product',
      'Design',
      'Engineering',
      'Business',
    ];
    let containerClassName =
      ' z-max_1 duration-200 transform w-screen  fixed bottom-0 left-0  px-2 flex flex-row bg-white overflow-scroll font-display border-t-2 border-gray-200 ';
    if (!showSearchRecommendation) {
      containerClassName += 'translate-y-20 opacity-0';
    }

    return (
      <div className={containerClassName}>
        <div
          className={
            'flex items-center justify-center hover:bg-gray-200  w-max  cursor-pointer p-2 rounded-2xl text-sm'
          }
        >
          <RiArrowUpSLine />
        </div>
        {searchRecommendations.map((data, idx) => {
          return (
            <div
              key={idx}
              className={
                ' hover:bg-gray-200  w-max shadow-2xl cursor-pointer p-2 px-4 m-2 rounded-2xl text-sm border-2 border-gray-200'
              }
            >
              {data}
            </div>
          );
        })}
      </div>
    );
  };
  const renderCustomerReview = () => {
    return (
      <div className="text-md py-4 font-display w-full flex flex-col justify-center align-center text-center bg-red  dark:text-white">
        <div className={'bold  px-4 text-sm'}>What they say about us</div>
        <div className={'bold pb-4 px-4 text-sm'}>Fall ‚Äò21 (Sep-Dec) üçÅ</div>

        <div className={'p-4 text-sm'}>
          <div>Find listings you‚Äôll never find anywhere else.</div>
          <div>Start interning in your first semester.</div>
        </div>
      </div>
    );
  };
  const renderCallToAction = () => {
    return (
      <ContentLayout>
        <div className="text-md py-4 font-display w-full flex flex-col justify-center  text-center bg-red">
          <div className={'bold  px-4 text-sm'}>
            Ready to take the next step?
          </div>

          <div
            className={'p-4 text-sm flex flex-col md:flex-row justify-center '}
          >
            <div className="gradient-flame rounded-3xl shadow-2xl p-4  m-8 md:w-1/3  block bg-yellow-500 text-white  items-start text-left">
              <div className="font-bold text-2xl">Students</div>
              <div className="mb-4">
                Gain access to over 200+ Indonesian top companies.
              </div>
              <button className={btnRed}>
                Sign up as student <BiLinkExternal className="ml-4" />
              </button>
            </div>
            <div className="gradient-flame rounded-3xl shadow-2xl p-4  m-8 md:w-1/3  block bg-yellow-500 text-white  items-start text-left">
              <div className="font-bold text-2xl">Employers</div>
              <div className="mb-4">Hire talent from top US universities.</div>
              <button className={btnRed}>
                Sign up as employer <BiLinkExternal className="ml-4" />
              </button>
            </div>
          </div>
        </div>
      </ContentLayout>
    );
  };
  return (
    <>
      <Head>
        <title>Kerja.io | Empowering Indonesia‚Äôs brightest minds</title>
      </Head>
      <BaseLayout>
        <Navbar />
        <ContentLayout
          flex=" flex-col "
          className=" font-display min-h-96 py-20  md:py-24 "
        >
          <div className="text-center w-full items-center flex-col flex justify-center px-4 text-2xl md:text-4xl mt-24 md:mt-16 dark:text-white ">
            <div>
              Empowering Indonesia‚Äôs
              <span className="colorful bold ml-2">brightest minds</span>,
            </div>
            <div>one internship at a time üáÆüá©</div>
          </div>
          <div className={'flex flex-col items-center justify-center py-4'}>
            <div className={'text-gray-400 text-xs text-center my-2'}>
              Apply to 250+ curated internship listings from Indonesia‚Äôs most
              admired companies.
            </div>
            <div
              className={
                'rounded-full border-2 border-gray-200 p-4 w-3/4 shadow-md flex items-center'
              }
            >
              <input
                className={'w-full'}
                placeholder={`Try "finance" or "design" or "product"`}
              />
              <FcSearch className={''} />
            </div>
          </div>
          {/*<img*/}
          {/*  style={{ height: '300px', width: '80%', margin: 'auto' }}*/}
          {/*  src={*/}
          {/*    'https://res.cloudinary.com/yosuam19/image/upload/v1624509550/kerja/hero_jv8kp2.svg'*/}
          {/*  }*/}
          {/*/>*/}
        </ContentLayout>
        <ContentLayout className=" font-display py-16 px-8">
          <div
            style={{
              backgroundSize: 'cover',
              background:
                'url("https://images.unsplash.com/photo-1571844305890-d66c8b94cd14?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1568&q=80")',
            }}
            className="hover:scale-105 cursor-pointer duration-200 gradient-flame rounded-3xl shadow-2xl p-4 h-64 m-4 md:w-1/3  flex flex-col bg-yellow-500 text-black  justify-end text-left"
          >
            <div className="font-bold text-lg bg-white p-2 rounded-xl w-fit-content ">
              Michelle's story
            </div>
            <div className="bg-white p-2 rounded-xl w-fit-content ">
              Learn how Michelle landed her summer internship offer
            </div>
            <button className={btnRed}>
              Learn more <BiLinkExternal className="ml-4" />
            </button>
          </div>
          <div
            style={{
              backgroundSize: 'cover',
              background:
                'url("https://images.unsplash.com/photo-1571844305890-d66c8b94cd14?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1568&q=80")',
            }}
            className="hover:scale-105 cursor-pointer duration-200 gradient-flame rounded-3xl shadow-2xl p-4 h-64 m-4 md:w-1/3  flex flex-col bg-yellow-500 text-black  justify-end text-left"
          >
            <div className="font-bold text-lg bg-white p-2 rounded-xl w-fit-content ">
              Michelle's story
            </div>
            <div className="bg-white p-2 rounded-xl w-fit-content ">
              Learn how Michelle landed her summer internship offer
            </div>
            <button className={btnRed}>
              Learn more <BiLinkExternal className="ml-4" />
            </button>
          </div>
          <div
            style={{
              backgroundSize: 'cover',
              background:
                'url("https://images.unsplash.com/photo-1571844305890-d66c8b94cd14?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1568&q=80")',
            }}
            className="hover:scale-105 cursor-pointer duration-200 gradient-flame rounded-3xl shadow-2xl p-4 h-64 m-4 md:w-1/3  flex flex-col bg-yellow-500 text-black  justify-end text-left"
          >
            <div className="font-bold text-lg bg-white p-2 rounded-xl w-fit-content ">
              Michelle's story
            </div>
            <div className="bg-white p-2 rounded-xl w-fit-content ">
              Learn how Michelle landed her summer internship offer
            </div>
            <button className={btnRed}>
              Learn more <BiLinkExternal className="ml-4" />
            </button>
          </div>
        </ContentLayout>
        {renderSeasonalInternship()}
        {renderCustomerReview()}
        {renderCallToAction()}
        {isMobile && renderSearchRecommendation()}
        <Footer />
      </BaseLayout>
    </>
  );
}
const btnRed =
  'bg-red-400 text-white px-4 py-2 rounded-xl flex items-center font-display w-fit-content text-md';
